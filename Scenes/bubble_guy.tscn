[gd_scene load_steps=54 format=3 uid="uid://31sgm2m6coed"]

[ext_resource type="Texture2D" uid="uid://dtnhi7rhpfs5t" path="res://icon.svg" id="1_pnojc"]
[ext_resource type="Script" path="res://Scripts/bubble_guy.gd" id="1_v53aw"]
[ext_resource type="Texture2D" uid="uid://nu8hd5rsgbt4" path="res://Assets/Sprites/Characters/Bubble-Sheet.png" id="3_3im20"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4iesc"]
size = Vector2(78, 75)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_2hfaa"]
radius = 64.0
height = 128.0

[sub_resource type="Animation" id="Animation_kl4sb"]
resource_name = "Idle"
length = 1.6
loop_mode = 1
step = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShieldArea/Guy:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.333333, 0.666667, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [23, 24, 25, 26]
}

[sub_resource type="Animation" id="Animation_2itcv"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShieldArea/Guy:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [23]
}

[sub_resource type="Animation" id="Animation_e8ub2"]
resource_name = "Breaking_Bubble"
length = 0.4
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShieldArea/Guy:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [2, 3]
}

[sub_resource type="Animation" id="Animation_l4ce8"]
resource_name = "New_Bubble"
length = 1.8
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShieldArea/Guy:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1, 1.2, 1.4, 1.6),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [13, 14, 15, 16, 17, 18, 19, 20, 21]
}

[sub_resource type="Animation" id="Animation_5rdhp"]
resource_name = "Swimming_Bubble"
length = 1.2
loop_mode = 1
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShieldArea/Guy:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4, 0.6, 0.8, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [28, 29, 30, 31, 32]
}

[sub_resource type="Animation" id="Animation_dfk3n"]
resource_name = "Swimming_NoAir_1"
length = 1.2
loop_mode = 1
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShieldArea/Guy:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4, 0.6, 0.8, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [34, 35, 36, 37, 38]
}

[sub_resource type="Animation" id="Animation_cb83l"]
resource_name = "Swimming_NoAir_2"
length = 0.6
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShieldArea/Guy:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [40, 41, 42, 43, 44]
}

[sub_resource type="Animation" id="Animation_cntpl"]
resource_name = "Death_No_Air"
length = 1.6
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShieldArea/Guy:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4, 0.8, 1.2),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [46, 47, 48, 49]
}

[sub_resource type="Animation" id="Animation_00yjh"]
resource_name = "Death_Dart"
length = 1.8
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShieldArea/Guy:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1, 1.2, 1.4, 1.6),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [51, 52, 53, 54, 55, 56, 57, 58, 59]
}

[sub_resource type="Animation" id="Animation_68l1p"]
resource_name = "Idle_NoBubble"
length = 1.6
loop_mode = 1
step = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShieldArea/Guy:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.333333, 0.666667, 1, 1.33333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [4, 5, 6, 7, 8]
}

[sub_resource type="Animation" id="Animation_rffrq"]
resource_name = "Idle_noBubbles_2"
length = 1.6
step = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShieldArea/Guy:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4, 0.8, 1.2),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [9, 10, 11, 12]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_gjj3l"]
_data = {
"Breaking_Bubble": SubResource("Animation_e8ub2"),
"Death_Dart": SubResource("Animation_00yjh"),
"Death_No_Air": SubResource("Animation_cntpl"),
"Idle": SubResource("Animation_kl4sb"),
"Idle_NoBubble": SubResource("Animation_68l1p"),
"Idle_noBubbles_2": SubResource("Animation_rffrq"),
"New_Bubble": SubResource("Animation_l4ce8"),
"RESET": SubResource("Animation_2itcv"),
"Swimming_Bubble": SubResource("Animation_5rdhp"),
"Swimming_NoAir_1": SubResource("Animation_dfk3n"),
"Swimming_NoAir_2": SubResource("Animation_cb83l")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_b0y71"]
animation = &"Breaking_Bubble"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xsgaf"]
animation = &"Death_Dart"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xwh7s"]
animation = &"Death_No_Air"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1p3fu"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ep4m3"]
animation = &"Idle_NoBubble"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ycdni"]
animation = &"Idle_noBubbles_2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6rpcn"]
animation = &"New_Bubble"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_20egt"]
animation = &"Swimming_Bubble"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4w54j"]
animation = &"Swimming_NoAir_1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_d26oj"]
animation = &"Swimming_NoAir_2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_14yks"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_e7mj1"]
advance_mode = 2
advance_condition = &"Swim"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_86ray"]
resource_name = "Lost_Bubble"
advance_mode = 2
advance_condition = &"Break_Bubble"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ebylw"]
advance_mode = 2
advance_condition = &"Break_Bubble"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7nbyq"]
switch_mode = 2
advance_mode = 2
advance_condition = &"Idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_bwavo"]
switch_mode = 2
advance_mode = 2
advance_condition = &"Swim"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rxqro"]
advance_mode = 2
advance_condition = &"Swim"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0n24s"]
advance_mode = 2
advance_condition = &"Close_To_Death"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_tr1xi"]
advance_mode = 2
advance_condition = &"Idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_opncu"]
switch_mode = 2
advance_mode = 2
advance_condition = &"Idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_emkq4"]
switch_mode = 2
advance_mode = 2
advance_condition = &"Swim"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_efgjt"]
advance_mode = 2
advance_condition = &"Get_Bubble"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wihbq"]
advance_mode = 2
advance_condition = &"Get_Bubble"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mccmj"]
advance_mode = 2
advance_condition = &"Swim"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cmxwy"]
advance_mode = 2
advance_condition = &"Close_To_Death"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ef62n"]
advance_mode = 2
advance_condition = &"Get_Bubble"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_arhkk"]
advance_mode = 2
advance_condition = &"Get_Bubble"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vfvif"]
advance_mode = 2
advance_condition = &"Idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wccvf"]
advance_mode = 2
advance_condition = &"Idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7lbv3"]
advance_mode = 2
advance_condition = &"Death_NoAir"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_njkd4"]
advance_mode = 2
advance_condition = &"Death_NoAir"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ctr4q"]
advance_mode = 2
advance_condition = &"Death"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pflv1"]
advance_mode = 2
advance_condition = &"Death"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kl5lm"]
advance_mode = 2
advance_condition = &"Death"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xw475"]
advance_mode = 2
advance_condition = &"Death"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_pjbjo"]
states/Breaking_Bubble/node = SubResource("AnimationNodeAnimation_b0y71")
states/Breaking_Bubble/position = Vector2(603, -15)
states/Death_Dart/node = SubResource("AnimationNodeAnimation_xsgaf")
states/Death_Dart/position = Vector2(953, 101)
states/Death_No_Air/node = SubResource("AnimationNodeAnimation_xwh7s")
states/Death_No_Air/position = Vector2(1269, 101)
states/End/position = Vector2(1440, 101)
states/Idle/node = SubResource("AnimationNodeAnimation_1p3fu")
states/Idle/position = Vector2(359, 224)
states/Idle_NoBubble/node = SubResource("AnimationNodeAnimation_ep4m3")
states/Idle_NoBubble/position = Vector2(838, -15)
states/Idle_noBubbles_2/node = SubResource("AnimationNodeAnimation_ycdni")
states/Idle_noBubbles_2/position = Vector2(1059, -15)
states/New_Bubble/node = SubResource("AnimationNodeAnimation_6rpcn")
states/New_Bubble/position = Vector2(603, 224)
states/Start/position = Vector2(167, 224)
states/Swimming_Bubble/node = SubResource("AnimationNodeAnimation_20egt")
states/Swimming_Bubble/position = Vector2(359, -15)
states/Swimming_NoAir_1/node = SubResource("AnimationNodeAnimation_4w54j")
states/Swimming_NoAir_1/position = Vector2(838, 189)
states/Swimming_NoAir_2/node = SubResource("AnimationNodeAnimation_d26oj")
states/Swimming_NoAir_2/position = Vector2(1064, 224)
transitions = ["Start", "Idle", SubResource("AnimationNodeStateMachineTransition_14yks"), "Idle", "Swimming_Bubble", SubResource("AnimationNodeStateMachineTransition_e7mj1"), "Swimming_Bubble", "Breaking_Bubble", SubResource("AnimationNodeStateMachineTransition_86ray"), "Idle", "Breaking_Bubble", SubResource("AnimationNodeStateMachineTransition_ebylw"), "Breaking_Bubble", "Idle_NoBubble", SubResource("AnimationNodeStateMachineTransition_7nbyq"), "Breaking_Bubble", "Swimming_NoAir_1", SubResource("AnimationNodeStateMachineTransition_bwavo"), "Idle_NoBubble", "Swimming_NoAir_1", SubResource("AnimationNodeStateMachineTransition_rxqro"), "Idle_NoBubble", "Idle_noBubbles_2", SubResource("AnimationNodeStateMachineTransition_0n24s"), "Swimming_Bubble", "Idle", SubResource("AnimationNodeStateMachineTransition_tr1xi"), "New_Bubble", "Idle", SubResource("AnimationNodeStateMachineTransition_opncu"), "New_Bubble", "Swimming_Bubble", SubResource("AnimationNodeStateMachineTransition_emkq4"), "Swimming_NoAir_1", "New_Bubble", SubResource("AnimationNodeStateMachineTransition_efgjt"), "Idle_noBubbles_2", "New_Bubble", SubResource("AnimationNodeStateMachineTransition_wihbq"), "Idle_noBubbles_2", "Swimming_NoAir_2", SubResource("AnimationNodeStateMachineTransition_mccmj"), "Swimming_NoAir_1", "Swimming_NoAir_2", SubResource("AnimationNodeStateMachineTransition_cmxwy"), "Swimming_NoAir_2", "New_Bubble", SubResource("AnimationNodeStateMachineTransition_ef62n"), "Idle_NoBubble", "New_Bubble", SubResource("AnimationNodeStateMachineTransition_arhkk"), "Swimming_NoAir_1", "Idle_NoBubble", SubResource("AnimationNodeStateMachineTransition_vfvif"), "Swimming_NoAir_2", "Idle_noBubbles_2", SubResource("AnimationNodeStateMachineTransition_wccvf"), "Idle_noBubbles_2", "Death_No_Air", SubResource("AnimationNodeStateMachineTransition_7lbv3"), "Swimming_NoAir_2", "Death_No_Air", SubResource("AnimationNodeStateMachineTransition_njkd4"), "Idle_NoBubble", "Death_Dart", SubResource("AnimationNodeStateMachineTransition_ctr4q"), "Idle_noBubbles_2", "Death_Dart", SubResource("AnimationNodeStateMachineTransition_pflv1"), "Swimming_NoAir_2", "Death_Dart", SubResource("AnimationNodeStateMachineTransition_kl5lm"), "Swimming_NoAir_1", "Death_Dart", SubResource("AnimationNodeStateMachineTransition_xw475")]
graph_offset = Vector2(108, -52)

[node name="BubbleGuy" type="CharacterBody2D" groups=["BubbleGuy"]]
_import_path = NodePath("")
unique_name_in_owner = false
process_mode = 0
process_priority = 0
process_physics_priority = 0
process_thread_group = 0
physics_interpolation_mode = 0
auto_translate_mode = 0
editor_description = ""
visible = true
modulate = Color(1, 1, 1, 1)
self_modulate = Color(1, 1, 1, 1)
show_behind_parent = false
top_level = false
light_mask = 1
visibility_layer = 1
z_index = 0
z_as_relative = true
y_sort_enabled = false
texture_filter = 0
texture_repeat = 0
material = null
use_parent_material = false
position = Vector2(0, 0)
rotation = 0.0
scale = Vector2(1, 1)
skew = 0.0
disable_mode = 0
collision_layer = 1
collision_mask = 14
collision_priority = 1.0
input_pickable = false
motion_mode = 0
up_direction = Vector2(0, -1)
velocity = Vector2(0, 0)
slide_on_ceiling = true
max_slides = 4
wall_min_slide_angle = 0.261799
floor_stop_on_slope = true
floor_constant_speed = false
floor_block_on_wall = true
floor_max_angle = 0.785398
floor_snap_length = 1.0
platform_on_leave = 0
platform_floor_layers = 4294967295
platform_wall_layers = 0
safe_margin = 0.08
script = ExtResource("1_v53aw")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -0.5)
shape = SubResource("RectangleShape2D_4iesc")

[node name="Bubble" type="Sprite2D" parent="."]
modulate = Color(0.215686, 1, 0.843137, 0.282353)
texture = ExtResource("1_pnojc")

[node name="ShieldArea" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="ShieldArea"]
shape = SubResource("CapsuleShape2D_2hfaa")

[node name="Guy" type="Sprite2D" parent="ShieldArea"]
position = Vector2(-2.08594, -1.3)
scale = Vector2(2.04062, 2.04062)
texture = ExtResource("3_3im20")
hframes = 60
frame = 23

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_gjj3l")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_pjbjo")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/Break_Bubble = false
parameters/conditions/Close_To_Death = false
parameters/conditions/Death = false
parameters/conditions/Death_NoAir = false
parameters/conditions/Get_Bubble = false
parameters/conditions/Idle = true
parameters/conditions/Swim = false

[connection signal="area_entered" from="ShieldArea" to="." method="_on_shield_area_area_entered"]
